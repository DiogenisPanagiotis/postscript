(this.webpackJsonppostscript=this.webpackJsonppostscript||[]).push([[0],{13:function(e,a,t){e.exports=t(19)},18:function(e,a,t){},19:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),i=t(10),r=t.n(i),c=(t(18),t(1)),m=t(2),l=t(4),o=t(3),g=t(11),d=t(5),p={campaigns:[{id:1,name:"Fourth of July Promo",text:"Hi {first_name}, it's {shop_name}! This 4th of July celebrate with our Freedom Sale!",status:"Sent",segment_id:1,media:"https://images.unsplash.com/photo-1556804335-2fa563e93aae",stats:{sent:6506,clicked:6137}},{id:2,name:"Labor Day Sale",text:"Hey {first_name}, it's {shop_name}! We have a HUGE sale on Labor Day, get up to 30% off with LABOR30. {shop_link}",status:"Sent",segment_id:1,media:null,stats:{sent:7228,clicked:6883}},{id:3,name:"Cotton Candy Palette Announcement",text:"Hi {first_name}! Here at {shop_name} we just got our NEW Cotton Candy Palette! {shop_link}",status:"Sent",segment_id:2,media:"https://images.unsplash.com/photo-1544220828-1becb7f7b284",stats:{sent:7246,clicked:7080}},{id:4,name:"Fall Decor Updates",text:"Hey {first_name}! Back at {shop_name} we've gotten a WILD amount of home updates you NEED this Fall. \ud83d\udc40 {shop_link}",status:"Preview",segment_id:3,media:"https://images.unsplash.com/photo-1568485248685-019a98426c14",stats:null},{id:5,name:"Great Halloween Sale",text:"It's the Great Halloween Sale, {first_name}! Things are getting pretty spooky here at {shop_name}. Take up to 20% off with SCARE20",status:"Preview",segment_id:1,media:"https://images.unsplash.com/photo-1537800534001-f3e01aa1c34c",stats:null}],segments:[{id:1,name:"All Subscribers",subscribers_count:8920},{id:2,name:"Beauty Purchases",subscribers_count:7108},{id:3,name:"Decor Purchases",subscribers_count:1204}]},u=t(12),v=(t(6),function(e){var a=s.a.useRef(null),t=s.a.useRef(null);return s.a.createElement("div",{className:"media-container"},s.a.createElement("input",{type:"file",accept:"image/*",onChange:function(t){var n=Object(u.a)(t.target.files,1)[0];if(n){var s=new FileReader,i=a.current;i.file=n,s.onload=function(e){i.src=e.target.result},s.readAsDataURL(n)}e.fetchMedia(a.current.file.name)},ref:t,style:{display:"none"}}),s.a.createElement("div",{className:"media-uploader",onClick:function(){return t.current.click()}},"Add Photo or GIF"),e.renderTagButton(),e.renderTags(),s.a.createElement("div",{className:"media-preview-container"},s.a.createElement("img",{className:"media-preview",alt:"",ref:a,src:e.media?e.media:"http://placehold.jp/ffffff/000000/150x150.png"}),s.a.createElement("span",null,"Media Preview")))}),h=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).sendCampaign=function(){var a=e.props,t=a.campaigns,n=a.toggleCreate,s=a.campaignID,i=e.props.data,r=i.campaignName,c=i.media,m=i.message;e.props.saveCampaign({id:s||t.length,name:r||"Untitled Campaign",text:m,status:"Sent",media:c},s?s+1:t.length+1),n()},e.draftCampaign=function(){var a=e.props,t=a.campaigns,n=a.toggleCreate,s=a.campaignID,i=e.props.data,r=i.campaignName,c=i.media,m=i.message;n(),e.props.saveCampaign({id:s||t.length,name:r||"Untitled Campaign",text:m,status:"Preview",media:c},s?s+1:t.length+1)},e.state={current:null},e.sendCampaign=e.sendCampaign.bind(Object(d.a)(e)),e.draftCampaign=e.draftCampaign.bind(Object(d.a)(e)),e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.data,a=e.campaignName,t=e.segment,n=e.message,i=e.media;return s.a.createElement("div",{className:"preview"},s.a.createElement("div",{className:"preview-container"},s.a.createElement("div",{className:"preview-campaign-tag"},"Campaign: "),s.a.createElement("div",{className:"preview-campaign"},a)),s.a.createElement("div",{className:"preview-container"},s.a.createElement("div",{className:"preview-segment-tag"},"Segment: "),s.a.createElement("div",{className:"preview-segment"},t)),s.a.createElement("div",{className:"preview-container"},s.a.createElement("div",{className:"preview-message-tag"},"Message: "),s.a.createElement("div",{className:"preview-message"},n)),s.a.createElement("div",{className:"preview-container"},s.a.createElement("div",{className:"preview-media-tag"},"Media: "),s.a.createElement("div",{className:"preview-media"},i)),s.a.createElement("div",{className:"cancel-button",onClick:this.draftCampaign},"Back to Campaigns (Save Draft)"),s.a.createElement("div",{className:"save-button",onClick:this.sendCampaign},"Send Campaign!"))}}]),t}(n.Component),f=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(e){var n;Object(c.a)(this,t),(n=a.call(this,e)).handleCampignNameChange=function(e){n.setState({campaignName:e.target.value})},n.handleSegmentChange=function(e){n.setState({segment:e.target.value})},n.handleTagChange=function(e){n.setState({tag:e.target.value})},n.handleMessageChange=function(e){n.setState({message:e.target.value})},n.onClickAddTag=function(){n.setState({showTagDropdown:!n.state.showTagDropdown})},n.insertTag=function(){var e=n.state,a=e.message,t=e.tag;n.setState({message:"".concat(a," ").concat(t)})},n.togglePreview=function(){n.setState({showPreview:!n.state.showPreview})},n.fetchMedia=function(e){n.setState({media:e})},n.renderSelectSegments=function(){var e=p.segments;return s.a.createElement("div",null,s.a.createElement("select",{name:"",onChange:n.handleSegmentChange,value:n.state.segment},e.map((function(e){return s.a.createElement("option",{key:e.id,value:e.name},"".concat(e.name," (").concat(e.subscribers_count,")"))}))))},n.renderTags=function(){if(n.state.showTagDropdown)return s.a.createElement("div",{className:"tag-dropdown"},n.state.showTagDropdown?s.a.createElement("select",{className:"tag-dropdown-select",onChange:n.handleTagChange,value:n.state.tag},["{shop_link}","{first_name}","{shop_name}"].map((function(e,a){return s.a.createElement("option",{key:a,value:e},e)}))):null,s.a.createElement("div",{className:"insert-tag-button",onClick:n.insertTag},"Insert Tag"))},n.renderTagButton=function(){return s.a.createElement("div",{className:"add-tag-button",onClick:n.onClickAddTag},"Add Tag")},n.renderContent=function(){var e=n.state,a=e.message,t=e.showPreview,i=n.props,r=i.campaigns,c=i.saveCampaign,m=i.toggleCreate,l=i.campaignID;return t?s.a.createElement(h,{toggleCreate:m,togglePreview:n.togglePreview,data:n.state,saveCampaign:c,campaigns:r,campaignID:l}):s.a.createElement("div",null,s.a.createElement("div",{className:"create-campaign-tag"},"Campaign Name"),s.a.createElement("input",{placeholder:"Campaign Name",className:"create-campaign-input",onChange:n.handleCampignNameChange,value:n.state.campaignName}),s.a.createElement("div",{className:"create-segment-tag"},"Segment Name"),n.renderSelectSegments(),s.a.createElement("div",{className:"create-message-tag"},"Message"),s.a.createElement(v,{renderTags:n.renderTags,renderTagButton:n.renderTagButton,fetchMedia:n.fetchMedia,media:l?r[l].media:null}),s.a.createElement("input",{placeholder:"{shop_name}: Hi {first_name}! This is a sample text message.",className:"create-message-input",onChange:n.handleMessageChange,value:a}),s.a.createElement("div",{className:"cancel-button",onClick:m},"Cancel"),s.a.createElement("div",{className:"save-button",onClick:n.togglePreview},"Save & Continue to Preview"))};var i=n.props,r=i.campaigns,m=i.campaignID;return n.state={campaignName:m?r[m].name:"",segment:"All Subscribers",message:m?r[m].text:"",media:m?r[m].media:null,tag:"{shop_link}",showTagDropdown:!1,showPreview:!1},n}return Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"create"},this.renderContent())}}]),t}(n.Component),C=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=a.call.apply(a,[this].concat(i))).renderCampaigns=function(a){var t=e.props,n=t.campaigns,i=t.editCampaign;return s.a.createElement("div",null,n.map((function(t,n){if(t.status===a)return s.a.createElement("div",{className:"campaign-group",key:n},s.a.createElement("div",{className:"campaign-title"},"".concat(t.name)),s.a.createElement("div",{className:"campaign-status-".concat(t.status.toLowerCase())},"".concat(t.status)),"Preview"===t.status?s.a.createElement("div",{className:"campaign-edit",onClick:i.bind(Object(d.a)(e),n)},"Edit"):null)})))},e.renderView=function(){var a=e.props,t=a.create,n=a.campaigns,i=a.saveCampaign,r=a.toggleCreate,c=a.campaignID;return t?s.a.createElement(f,{toggleCreate:r,saveCampaign:i,campaigns:n,campaignID:c}):s.a.createElement("div",{className:"inventory"},s.a.createElement("div",{className:"sub-title"},"Open Campaigns"),e.renderCampaigns("Preview"),s.a.createElement("div",{className:"sub-title"},"Sent Campaigns"),e.renderCampaigns("Sent"))},e}return Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"campaigns"},this.renderView())}}]),t}(n.Component),E=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).toggleCreate=function(){e.state.campaignToEdit&&e.setState({campaignToEdit:null}),e.setState({create:!e.state.create})},e.editCampaign=function(a){e.setState({campaignToEdit:a}),e.toggleCreate()},e.renderCreateButton=function(){var a=e.props.focus;if(!e.state.create)return s.a.createElement("div",{className:"create-button",onClick:e.toggleCreate},"Create ",a.slice(0,-1))},e.saveCampaign=function(a,t){var n=e.state.campaigns,s=Object(g.a)(n);console.log(a.id,"what number is this?"),console.log("what id is passed?",t),s[a.id]=a,t&&(s[a.id].id=t),e.setState({campaigns:s})},e.state={focus:"Campaigns",create:!1,campaigns:p.campaigns,campaignToEdit:null},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.focus,a=this.state,t=a.create,n=a.campaigns,i=a.campaignToEdit;return console.log(this.state),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"category"},t?"".concat(e," > Create ").concat(e):e),this.renderCreateButton(),s.a.createElement("hr",null),s.a.createElement(C,{create:t,toggleCreate:this.toggleCreate,campaigns:n,saveCampaign:this.saveCampaign,editCampaign:this.editCampaign,campaignID:i}))}}]),t}(n.Component),w=function(e){Object(l.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(c.a)(this,t),(e=a.call(this)).onClickNav=function(a){e.setState({main:a.target.id})},e.state={focus:"Campaigns"},e}return Object(m.a)(t,[{key:"render",value:function(){var e=this.state.focus;return s.a.createElement("div",{className:"App"},s.a.createElement("nav",{className:"nav"},s.a.createElement("div",{className:"logo"},"Postscript")),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"side-nav"},s.a.createElement("ul",{className:"side-nav-list"},s.a.createElement("li",{id:"Dashboard",onClick:this.onClickNav},"Dashboard"),s.a.createElement("li",{id:"Campaigns",onClick:this.onClickNav}," Campaigns"),s.a.createElement("li",{id:"Segments",onClick:this.onClickNav},"Segments"))),s.a.createElement(E,{focus:e})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,a,t){}},[[13,1,2]]]);
//# sourceMappingURL=main.edb87928.chunk.js.map